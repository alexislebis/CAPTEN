<link rel="import" href="../wrapper/ape-model-element.html">

<!-- DEBUG delete import. Doit être placé dans la workzone -->
<link rel="import" href="./bootstrapFiles/operator-boostrap-element.html">
<link rel="import" href="./operators/operator-displayer-element.html">

<dom-module id="ape-element">
  <template>
    <style>
      :host {
        display: block;
      }
    </style>

    <ape-model-element></ape-model-element>
    <operator-bootstrap-element id="bootstrap"></operator-bootstrap-element>
    <operator-displayer-element id="displayer"></operator-displayer-element>
    <h1>
      APE n°<span style="color:green">[[name]]</span>
    </h1>
  </template>
  <script>
    Polymer({
      is: 'ape-element',

      properties: {

        /**
         * Useless var.
         *
         * @attribute name
         * @type String
         */
        name: {
          type: String,
          notify: true,
          value: "78795685"
        },

        //RGTEs is an Array of RGTE. AN RGTE is a vis network associated with its edgesCardinality like:
        //[{network: network, card: edgesCardinality},]
        rgtes:{
          type: Array,
          notify: true,
          value: function(){return [];},
        },

        operators:{
          type: Array,
          notify: true,
          value: function(){return [];},
        }
      },

      observers:
      [
        "_onRGTESChanged(rgtes.splices)",
      ],

      ready: function()
      {

      },

      _onRGTESChanged: function(change)
      {
        if(change == null)
          return;

        //DEBUG
        console.log(this.$.bootstrap.getOperators());
      },

    });
  </script>
</dom-module>
