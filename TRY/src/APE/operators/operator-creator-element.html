<!-- NOTE Need to use a VIS-ELEMENT in order to define its sensitive pattern for proc -->
<link rel="import" href="../../../bower_components/paper-input/paper-input.html">
<link rel="import" href="../../../bower_components/iron-icon/iron-icon.html">
<link rel="import" href="../../../bower_components/paper-input/paper-textarea.html">

<link rel="import" href="../../RTE/rgte-workzone-element.html">

<dom-module id="operator-creator-element">
    <template>
    <style>
      :host {
        font-family: sans-serif;
      }
    </style>

  <span on-tap="_close">Close <iron-icon icon="clear" prefix></iron-icon></span>
  <paper-input id="creatorName" label="Creator's name" value="{{creatorName}}" required></paper-input>

  <paper-input id="nameNOP" label="NOP's name" value="{{nopname}}" required maxlength="100"></paper-input>
  <paper-textarea label="Description of the narrated operator"></paper-textarea>

  <paper-input id="objectif1NOP" label="NOP's objective (#1)" value="{{nopobjectif1}}" maxlength="100"></paper-input>

  <div>
    <paper-input id="tag1" label="Tag" value="{{noptag1}}" maxlength="15"></paper-input>
    <!-- TODO : Faire les multi-paper-inputs -->
  </div>

  <div>
  <!-- <paper-textarea label="Example of utilization "></paper-textarea> -->
  <!-- TODO multi text area  -->
  </div>

  <div>
    TODO
    <!-- TODO : Relations sur les particularitÃ©s, contraintes, etc... Utiliser Haeeceity sans doute vers elmts -->
  </div>

  <div hidden$="{{isInputPatternDisplayed}}" on-tap="_toggleInputPatternDisplayed">
    Open input pattern <iron-icon icon="add-box"></iron-icon>
  </div>
  <div hidden$="{{!isInputPatternDisplayed}}">
    <span on-tap="_toggleInputPatternDisplayed"> Close input pattern  <iron-icon icon="clear"></iron-icon></span>
    <rgte-workzone-element id="inputPattern" disable-Save-Menu disable-Bag-Menu disable-Load-Menu vocab="{{vocab}}" customcls="{{customcls}}" customprops="{{customprops}}"></rgte-workzone-element>
  </div>

  </template>
    <script>
        Polymer(
        {
            is: 'operator-creator-element',

            properties:
            {
                nop:
                {
                    type: Object,
                    value: function()
                    {
                        return new NarratedOperator();
                    },
                    notify: true,
                },

                nopname:
                {
                    type: String,
                    value: "",
                    notify: true,
                    observer: "_onNopNameChange",
                },

                noptag1:
                {
                    type: String,
                    value: "",
                    notify: true,
                },

                nopobjectif1:
                {
                    type: String,
                    value: "",
                    notify: true,
                },

                creatorName:
                {
                    type: String,
                    value: "",
                    notify: true,
                },

                nopinputrgte:
                {
                    type: String,
                    value: function()
                    {
                        return new RGTE();
                    },
                    notify: true,
                },
                nopoutputrgte:
                {
                    type: String,
                    value: function()
                    {
                        return new RGTE();
                    },
                    notify: true,
                },
                nopsettingsrgte:
                {
                    type: String,
                    value: function()
                    {
                        return new RGTE();
                    },
                    notify: true,
                },
                superrgte: // SuperRGTE = nopinputrgte U nopoutputrgte U nopsettingsrgte U additional_properties
                {
                    type: String,
                    value: function()
                    {
                        return new RGTE();
                    },
                    notify: true,
                },

                isInputPatternDisplayed:
                {
                  type: Boolean,
                  value: false,
                  notify: true,
                },

                vocab:
                {
                  type: Object,
                },
                customcls://used for file-reader
                {
                    type: Array,
                    notify: true,
                },
                customprops:
                {
                    type: Array,
                    notify: true,
                },
            },

            // === PRIVATE METHODS
            _onNopNameChange: function(change)
            {
                console.log("On change");
            },

            _close: function(change)
            {
                this.fire("-CloseNOPCreator");
            },

            _toggleInputPatternDisplayed: function()
            {
              this.vocab.notifyChange();
              this.isInputPatternDisplayed = !this.isInputPatternDisplayed;

            },


        });
    </script>

</dom-module>
