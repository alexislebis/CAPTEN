<link rel="import" href="../wrapper/rdfstore-element.html">
<dom-module id="rdf-store-lister-element">
    <template>
        <style>
            :host {
                display: block;
            }
        </style>
        <div id="rdflister">
          <div>
            <h2>Available Classes</h2>
            <ul id="rdfClasses"></ul>
          </div>
          <div>
            <h2>Availablle Properties</h2>
            <ul id="rdfProperties"></ul>
          </div>
        </div>
    </template>
    <script>
        Polymer(
        {
            is: 'rdf-store-lister-element',

            properties:
            {
              rdfclasses:
              {
                type: Array,
                notify: true,
                //value: function(){return[];},
                //observer: "_onRdfclassesChanged",
              },

              rdfprops:
              {
                type: Array,
                notify: true,
              }
            },

            observers: [
              "_onRdfclassesChanged(rdfclasses.splices)",
              "_onRdfpropertiesChanged(rdfprops.splices)",
            ],

            _onRdfclassesChanged: function(change)
            {

              if(Object.keys(this.rdfclasses).length === 0 && this.rdfclasses.constructor === Object)
                return;

                console.log("CALL: _onRdfclassesChanged");

                if(!change)
                  return;

                  var items ='';
                  //var that = this;
                //@IMPORTANT: Polymer splice function for array browsing
                // change.indexSplices.forEach(function(s){
                //   for (var i=0; i<s.addedCount; i++){
                //     var index = s.index + i;
                //     var item = '';
                //
                //     '<li>'+that.rdfclasses[index]+'</li>';
                //
                //     Polymer.dom(that.$.rdfClasses).innerHTML = item;
                //     // console.log(s.object[s.index+i]+" vs. "+that.rdfclasses[s.index+i]);
                //  }
                //});

                for(var i = 0; i < this.rdfclasses.length; i++)
                {
                  items += '<li>'+this.rdfclasses[i]+'</li>';
                }

                Polymer.dom(this.$.rdfClasses).innerHTML = items;
              // var that = this;
              // console.log(Polymer.dom(that.root).querySelector(".rdfClasses"));
              // console.log(n.path+" |||"+n.value);

              // this.rdfclasses.forEach(function(e,i){
              //   console.log(e);
              // });
            },
            _onRdfpropertiesChanged: function(change)
            {
              if(Object.keys(this.rdfprops).length === 0 && this.rdfprops.constructor === Object)
                return;

                if(!change)
                  return;

                  var items ='';

                  for(var i = 0; i < this.rdfprops.length; i++)
                  {
                    items += '<li>'+this.rdfprops[i]+'</li>';
                  }

                  Polymer.dom(this.$.rdfProperties).innerHTML = items;
            }
        });
    </script>
</dom-module>
